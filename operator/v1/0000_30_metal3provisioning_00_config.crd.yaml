apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  creationTimestamp: null
  name: metal3provisioning.operator.openshift.io
spec:
  group: operator.openshift.io
  names:
    kind: Metal3Provisioning
    listKind: Metal3ProvisioningList
    singular: metal3provisioning
  scope: ""
  preserveUnknownFields: false
  subresources:
    scale:
      labelSelectorPath: .status.selector
      specReplicasPath: .spec.replicas
      statusReplicasPath: .status.availableReplicas
    status: {}
  validation:
    openAPIV3Schema:
      description: "Metal3Provisioning contains configuration used by the Provisioning
        service (Ironic) to provision baremetal hosts. \n Metal3Provisioning is created
        by the Openshift installer using admin or user provided information about
        the provisioning network and the NIC on the server that can be used to PXE
        boot it. \n This CR is a singleton, created by the installer and currently
        only consumed by the machine-api-operator to bring up and update containers
        in a metal3 cluster."
      type: object
      required:
      - spec
      properties:
        apiVersion:
          description: 'APIVersion defines the versioned schema of this representation
            of an object. Servers should convert recognized schemas to the latest
            internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
          type: string
        kind:
          description: 'Kind is a string value representing the REST resource this
            object represents. Servers may infer this from the endpoint the client
            submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
          type: string
        metadata:
          type: object
        spec:
          description: spec is the specification of the desired behavior of Metal3Provisioning.
          type: object
          properties:
            provisioningInterface:
              description: "provisioningInterface is the name of the network interface
                on a baremetal server to the provisioning network. It can have values
                like eth1 or ens3."
              type: string
            provisioningIP:
              description: "provisioningIP is the IP address assigned to the provisioningInterface
                of the baremetal server. This IP address should be within the provisioning
                subnet, and outside of the DHCP range."
              type: string
            provisioningNetworkCIDR:
              description: "provisioningNetworkCIDR is the network on which the baremetal
                nodes are provisioned. The provisioningIP and the IPs in the dhcpRange
                all come from within this network."
              type: string
            provisioningDHCP:
              description: "provisioningDHCP consists of two parameters that represents
                whether the DHCP server is internal or external to the metal3 cluster.
                If it is internal, the second parameter represents the DHCP address
                range to be provided to the baremetal hosts."
              type: object
              properties:
                logLevel:
                  description: logLevel is an intent based logging for an overall
                    component. It does not give fine grained control, but it is a
                    simple way to manage coarse grained logging choices that operators
                    have to interpret for their operands.
                  type: string
                managementState:
                  description: managementState indicates whether DHCP server is present
                    within the metal3 cluster or external to it. A managementState
                    value of Removed indicates an external DHCP server and a value
                    of Managed indicates a DHCP server managed within the metal3 cluster.
                  type: string
                  pattern: ^(Managed|Removed)$
                observedConfig:
                  description: observedConfig holds a sparse config that controller
                    has observed from the cluster state.  It exists in spec because
                    it is an input to the level for the operator
                  type: object
                  nullable: true
                  x-kubernetes-preserve-unknown-fields: true
                operatorLogLevel:
                  description: operatorLogLevel is an intent based logging for the
                    operator itself.  It does not give fine grained control, but it
                    is a simple way to manage coarse grained logging choices that
                    operators have to interpret for themselves.
                  type: string
                unsupportedConfigOverrides:
                  description: 'unsupportedConfigOverrides holds a sparse config that
                    will override any previously set options.  It only needs to be
                    the fields to override it will end up overlaying in the following
                    order: 1. hardcoded defaults 2. observedConfig 3. unsupportedConfigOverrides'
                  type: object
                  nullable: true
                  x-kubernetes-preserve-unknown-fields: true
                DHCPRange:
                  description: Needs to be interpreted along with the managementState.
                    If the ManagementState within the OperatorStatus is set to "Managed",
                    then the DHCPRange represents the range of IP addresses that the
                    DHCP server running within the metal3 cluster can use while provisioning
                    baremetal servers. If the value of ManagementState is set to "Removed",
                    then the value of DHCPRange will be ignored. If the ManagementState
                    is "Managed" and the value of DHCPRange is not set, then the DHCP
                    range is taken to be the default range which goes from .10 to
                    .100 of the ProvisioningNetworkCIDR. This is the only value in
                    all of the provisioning configuration that can be changed after
                    the installer has created the CR.
                  type: string
                  nullable: true
        status:
          description: status holds observed values from the cluster. They may not
            be overridden.
          type: object
          properties:
            conditions:
              description: conditions is a list of conditions and their status
              type: array
              items:
                description: OperatorCondition is just the standard condition fields.
                type: object
                properties:
                  lastTransitionTime:
                    type: string
                    format: date-time
                  message:
                    type: string
                  reason:
                    type: string
                  status:
                    type: string
                  type:
                    type: string
            generations:
              description: generations are used to determine when an item needs to
                be reconciled or has changed in a way that needs a reaction.
              type: array
              items:
                description: GenerationStatus keeps track of the generation for a
                  given resource so that decisions about forced updates can be made.
                type: object
                properties:
                  group:
                    description: group is the group of the thing you're tracking
                    type: string
                  hash:
                    description: hash is an optional field set for resources without
                      generation that are content sensitive like secrets and configmaps
                    type: string
                  lastGeneration:
                    description: lastGeneration is the last generation of the workload
                      controller involved
                    type: integer
                    format: int64
                  name:
                    description: name is the name of the thing you're tracking
                    type: string
                  namespace:
                    description: namespace is where the thing you're tracking is
                    type: string
                  resource:
                    description: resource is the resource type of the thing you're
                      tracking
                    type: string
            observedGeneration:
              description: observedGeneration is the last generation change you've
                dealt with
              type: integer
              format: int64
            readyReplicas:
              description: readyReplicas indicates how many replicas are ready and
                at the desired state
              type: integer
              format: int32
            version:
              description: version is the level this availability applies to
              type: string
