apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  creationTimestamp: null
  labels:
    controller-tools.k8s.io: "1.0"
  name: clusterautoscalers.autoscaling.openshift.io
spec:
  group: autoscaling.openshift.io
  names:
    kind: ClusterAutoscaler
    plural: clusterautoscalers
  preserveUnknownFields: false
  scope: Cluster
  subresources:
    status: {}
  validation:
    openAPIV3Schema:
      description: ClusterAutoscaler provides a means to configure the cluster-autoscaler.
      type: object
      properties:
        apiVersion:
          description: 'APIVersion defines the versioned schema of this representation
            of an object. Servers should convert recognized schemas to the latest
            internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
          type: string
        kind:
          description: 'Kind is a string value representing the REST resource this
            object represents. Servers may infer this from the endpoint the client
            submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
          type: string
        metadata:
          type: object
        spec:
          description: Desired state of ClusterAutoscaler resource
          type: object
          properties:
            balanceSimilarNodeGroups:
              description: BalanceSimilarNodeGroups enables/disables the `--balance-similar-node-groups`
                cluster-autocaler feature. This feature will automatically identify
                node groups with the same instance type and the same set of labels
                and try to keep the respective sizes of those node groups balanced.
              type: boolean
            ignoreDaemonsetsUtilization:
              description: Enables/Disables `--ignore-daemonsets-utilization` CA feature
                flag. Should CA ignore DaemonSet pods when calculating resource utilization
                for scaling down. false by default
              type: boolean
            maxPodGracePeriod:
              description: Gives pods graceful termination time before scaling down.
              type: integer
              format: int32
            podPriorityThreshold:
              description: 'To allow users to schedule "best-effort" pods, which shouldn''t
                trigger Cluster Autoscaler actions, but only run when there are spare
                resources available, More info: https://github.com/kubernetes/autoscaler/blob/master/cluster-autoscaler/FAQ.md#how-does-cluster-autoscaler-work-with-pod-priority-and-preemption'
              type: integer
              format: int32
            resourceLimits:
              description: Constraints of autoscaling resources.
              type: object
              properties:
                cores:
                  description: Minimum and maximum number of cores in cluster, in
                    the format <min>:<max>. Cluster autoscaler will not scale the
                    cluster beyond these numbers.
                  type: object
                  required:
                  - max
                  - min
                  properties:
                    max:
                      type: integer
                      format: int32
                    min:
                      type: integer
                      format: int32
                      minimum: 0
                gpus:
                  description: Minimum and maximum number of different GPUs in cluster,
                    in the format <gpu_type>:<min>:<max>. Cluster autoscaler will
                    not scale the cluster beyond these numbers. Can be passed multiple
                    times.
                  type: array
                  items:
                    description: GPULimit represents limits on the number of GPU devices
                      in the cluster.
                    type: object
                    required:
                    - max
                    - min
                    - type
                    properties:
                      max:
                        type: integer
                        format: int32
                        minimum: 1
                      min:
                        type: integer
                        format: int32
                        minimum: 0
                      type:
                        type: string
                        minLength: 1
                maxNodesTotal:
                  description: Maximum number of nodes in all node groups. Cluster
                    autoscaler will not grow the cluster beyond this number.
                  type: integer
                  format: int32
                  minimum: 0
                memory:
                  description: Minimum and maximum number of gigabytes of memory in
                    cluster, in the format <min>:<max>. Cluster autoscaler will not
                    scale the cluster beyond these numbers.
                  type: object
                  required:
                  - max
                  - min
                  properties:
                    max:
                      type: integer
                      format: int32
                    min:
                      type: integer
                      format: int32
                      minimum: 0
            scaleDown:
              description: Configuration of scale down operation.
              type: object
              required:
              - enabled
              properties:
                delayAfterAdd:
                  description: How long after scale up that scale down evaluation
                    resumes
                  type: string
                  pattern: ([0-9]*(\.[0-9]*)?[a-z]+)+
                delayAfterDelete:
                  description: How long after node deletion that scale down evaluation
                    resumes, defaults to scan-interval
                  type: string
                  pattern: ([0-9]*(\.[0-9]*)?[a-z]+)+
                delayAfterFailure:
                  description: How long after scale down failure that scale down evaluation
                    resumes
                  type: string
                  pattern: ([0-9]*(\.[0-9]*)?[a-z]+)+
                enabled:
                  description: Should CA scale down the cluster
                  type: boolean
                unneededTime:
                  description: How long a node should be unneeded before it is eligible
                    for scale down
                  type: string
                  pattern: ([0-9]*(\.[0-9]*)?[a-z]+)+
            skipNodesWithLocalStorage:
              description: Enables/Disables `--skip-nodes-with-local-storage` CA feature
                flag. If true cluster autoscaler will never delete nodes with pods
                with local storage, e.g. EmptyDir or HostPath. true by default at
                autoscaler
              type: boolean
        status:
          description: Most recently observed status of ClusterAutoscaler resource
          type: object
  version: v1
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
